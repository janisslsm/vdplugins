(function(p,i,l,d,e,R){"use strict";const{TableRow:u,TableSwitchRow:B,TableRowGroup:V}=i.findByProps("TableRow"),{Stack:P}=i.findByProps("Stack");function E(){return R.useProxy(e.storage),React.createElement(P,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(V,{title:"User Profile"},React.createElement(B,{label:"Hide call button",icon:React.createElement(u.Icon,{source:d.getAssetIDByName("PhoneCallIcon")}),onValueChange:function(o){e.storage.upHideVoiceButton=o},value:e.storage.upHideVoiceButton}),React.createElement(B,{label:"Hide video button",icon:React.createElement(u.Icon,{source:d.getAssetIDByName("VideoIcon")}),onValueChange:function(o){e.storage.upHideVideoButton=o},value:e.storage.upHideVideoButton})),React.createElement(V,{title:"DMs",titleStyleType:"no_border"},React.createElement(B,{label:"Hide call button",icon:React.createElement(u.Icon,{source:d.getAssetIDByName("PhoneCallIcon")}),onValueChange:function(o){e.storage.dmHideCallButton=o},value:e.storage.dmHideCallButton}),React.createElement(B,{label:"Hide video button",icon:React.createElement(u.Icon,{source:d.getAssetIDByName("VideoIcon")}),onValueChange:function(o){e.storage.dmHideVideoButton=o},value:e.storage.dmHideVideoButton})),React.createElement(V,{title:"Other",titleStyleType:"no_border"},React.createElement(B,{label:"Hide video button in VC",icon:React.createElement(u.Icon,{source:d.getAssetIDByName("VideoIcon")}),onValueChange:function(o){return e.storage.hideVCVideoButton=o},value:e.storage.hideVCVideoButton})))}let c=[];var N={onLoad:function(){e.storage.upHideVoiceButton??=!0,e.storage.upHideVideoButton??=!0,e.storage.dmHideCallButton??=!1,e.storage.dmHideVideoButton??=!1,e.storage.hideVCVideoButton??=!1;let o=d.getAssetIDByName("ic_video"),f=d.getAssetIDByName("ic_audio");const H=d.getAssetIDByName("video"),h=d.getAssetIDByName("nav_header_connect"),y=d.getAssetIDByName("VideoIcon"),C=d.getAssetIDByName("PhoneCallIcon");o===void 0&&(o=y),f===void 0&&(f=C);const g=i.findByName("UserProfileActions",!1);let m=i.findByName("SimplifiedUserProfileContactButtons",!1);m===void 0&&(m=i.findByName("UserProfileContactButtons",!1));const A=i.find(function(s){return s?.type?.name=="PrivateChannelButtons"}),D=i.findByProps("ChannelButtons"),_=i.findByProps("VideoButton");g!==void 0&&c.push(l.after("default",g,function(s,n){if(!e.storage.upHideVideoButton&&!e.storage.upHideVoiceButton)return;let t=n?.props?.children?.props?.children[1]?.props?.children;if(t===void 0&&(t=n?.props?.children[1]?.props?.children),t?.props?.children!==void 0&&(t=t?.props?.children),t!==void 0)for(var a in t){var r=t[a];if(r?.props?.children!==void 0){var v=r?.props?.children;for(var I in v){var b=v[I];(b?.props?.icon===f&&e.storage.upHideVoiceButton||b?.props?.icon===o&&e.storage.upHideVideoButton)&&delete v[I]}}r?.props?.IconComponent!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2]),(r?.props?.icon===f&&e.storage.upHideVoiceButton||r?.props?.icon===o&&e.storage.upHideVideoButton)&&delete t[a]}})),c.push(l.after("default",m,function(s,n){let t=n?.props?.children;t!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2])})),c.push(l.after("default",_,function(s,n){if(!e.storage.hideVCVideoButton)return;const t=n?.props?.children?.props?.children?.props?.children;t!==void 0&&delete t[0]})),c.push(l.after("type",A,function(s,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;let t=n?.props?.children;if(t!==void 0){if(t[0]?.props?.accessibilityLabel!==void 0){e.storage.dmHideCallButton&&delete t[0],e.storage.dmHideVideoButton&&delete t[1];return}if(t[0]?.props?.source===void 0&&(t=t[0]?.props?.children),t!==void 0)for(var a in t){var r=t[a];(r?.props?.source===h&&e.storage.dmHideCallButton||r?.props?.source===H&&e.storage.dmHideVideoButton||r?.props?.source===C&&e.storage.dmHideCallButton||r?.props?.source===y&&e.storage.dmHideVideoButton)&&delete t[a]}}})),c.push(l.after("ChannelButtons",D,function(s,n){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const t=n?.props?.children;if(t!==void 0)for(var a in t){var r=t[a]?.props?.children[0];r!==void 0&&(r?.props?.source===h&&e.storage.dmHideCallButton||r?.props?.source===H&&e.storage.dmHideVideoButton)&&delete t[a]}}))},onUnload:function(){for(const o of c)o()},settings:E};return p.default=N,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.plugin,vendetta.storage);
