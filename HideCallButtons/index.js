(function(f,a,l,d,e,I,N,_){"use strict";const{FormSection:v,FormDivider:H,FormIcon:u,FormSwitchRow:B}=N.Forms;function D(){return _.useProxy(e.storage),React.createElement(I.ReactNative.ScrollView,null,React.createElement(v,{title:"User Profile",titleStyleType:"no_border"},React.createElement(B,{label:"Hide call button",leading:React.createElement(u,{source:d.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.upHideVoiceButton=o},value:e.storage.upHideVoiceButton}),React.createElement(H,null),React.createElement(B,{label:"Hide video button",leading:React.createElement(u,{source:d.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.upHideVideoButton=o},value:e.storage.upHideVideoButton})),React.createElement(v,{title:"DMs",titleStyleType:"no_border"},React.createElement(B,{label:"Hide call button",leading:React.createElement(u,{source:d.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.dmHideCallButton=o},value:e.storage.dmHideCallButton}),React.createElement(H,null),React.createElement(B,{label:"Hide video button",leading:React.createElement(u,{source:d.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.dmHideVideoButton=o},value:e.storage.dmHideVideoButton})),React.createElement(v,{title:"Other",titleStyleType:"no_border"},React.createElement(B,{label:"Hide video button in VC",leading:React.createElement(u,{source:d.getAssetIDByName("video")}),onValueChange:function(o){return e.storage.hideVCVideoButton=o},value:e.storage.hideVCVideoButton})))}let c=[];var A={onLoad:function(){e.storage.upHideVoiceButton??=!0,e.storage.upHideVideoButton??=!0,e.storage.dmHideCallButton??=!1,e.storage.dmHideVideoButton??=!1,e.storage.hideVCVideoButton??=!1;let o=d.getAssetIDByName("ic_video"),m=d.getAssetIDByName("ic_audio");const h=d.getAssetIDByName("video"),y=d.getAssetIDByName("nav_header_connect"),g=d.getAssetIDByName("VideoIcon"),C=d.getAssetIDByName("PhoneCallIcon");o===void 0&&(o=g),m===void 0&&(m=C);const R=a.findByName("UserProfileActions",!1);let p=a.findByName("SimplifiedUserProfileContactButtons",!1);p===void 0&&(p=a.findByName("UserProfileContactButtons",!1));const P=a.find(function(s){return s?.type?.name=="PrivateChannelButtons"}),S=a.findByProps("ChannelButtons"),F=a.findByProps("VideoButton");R!==void 0&&c.push(l.after("default",R,function(s,i){if(!e.storage.upHideVideoButton&&!e.storage.upHideVoiceButton)return;let t=i?.props?.children?.props?.children[1]?.props?.children;if(t===void 0&&(t=i?.props?.children[1]?.props?.children),t?.props?.children!==void 0&&(t=t?.props?.children),t!==void 0)for(var n in t){var r=t[n];if(r?.props?.children!==void 0){var V=r?.props?.children;for(var b in V){var E=V[b];(E?.props?.icon===m&&e.storage.upHideVoiceButton||E?.props?.icon===o&&e.storage.upHideVideoButton)&&delete V[b]}}r?.props?.IconComponent!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2]),(r?.props?.icon===m&&e.storage.upHideVoiceButton||r?.props?.icon===o&&e.storage.upHideVideoButton)&&delete t[n]}})),c.push(l.after("default",p,function(s,i){let t=i?.props?.children;t!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2])})),c.push(l.after("default",F,function(s,i){if(!e.storage.hideVCVideoButton)return;const t=i?.props?.children?.props?.children?.props?.children;t!==void 0&&delete t[0]})),c.push(l.after("type",P,function(s,i){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;let t=i?.props?.children;if(t!==void 0){if(t[0]?.props?.accessibilityLabel!==void 0){e.storage.dmHideCallButton&&delete t[0],e.storage.dmHideVideoButton&&delete t[1];return}if(t[0]?.props?.source===void 0&&(t=t[0]?.props?.children),t!==void 0)for(var n in t){var r=t[n];(r?.props?.source===y&&e.storage.dmHideCallButton||r?.props?.source===h&&e.storage.dmHideVideoButton||r?.props?.source===C&&e.storage.dmHideCallButton||r?.props?.source===g&&e.storage.dmHideVideoButton)&&delete t[n]}}})),c.push(l.after("ChannelButtons",S,function(s,i){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const t=i?.props?.children;if(t!==void 0)for(var n in t){var r=t[n]?.props?.children[0];r!==void 0&&(r?.props?.source===y&&e.storage.dmHideCallButton||r?.props?.source===h&&e.storage.dmHideVideoButton)&&delete t[n]}}))},onUnload:function(){for(const o of c)o()},settings:D};return f.default=A,Object.defineProperty(f,"__esModule",{value:!0}),f})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.plugin,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
