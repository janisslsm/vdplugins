(function(p,n,u,r,e,R){"use strict";const{TableRow:l,TableSwitchRow:B,TableRowGroup:v}=n.findByProps("TableRow"),{Stack:E}=n.findByProps("Stack");function N(){return R.useProxy(e.storage),React.createElement(E,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(v,{title:"User Profile"},React.createElement(B,{label:"Hide call button",icon:React.createElement(l.Icon,{source:r.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.upHideVoiceButton=o},value:e.storage.upHideVoiceButton}),React.createElement(B,{label:"Hide video button",icon:React.createElement(l.Icon,{source:r.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.upHideVideoButton=o},value:e.storage.upHideVideoButton})),React.createElement(v,{title:"DMs",titleStyleType:"no_border"},React.createElement(B,{label:"Hide call button",icon:React.createElement(l.Icon,{source:r.getAssetIDByName("ic_audio")}),onValueChange:function(o){e.storage.dmHideCallButton=o},value:e.storage.dmHideCallButton}),React.createElement(B,{label:"Hide video button",icon:React.createElement(l.Icon,{source:r.getAssetIDByName("ic_video")}),onValueChange:function(o){e.storage.dmHideVideoButton=o},value:e.storage.dmHideVideoButton})),React.createElement(v,{title:"Other",titleStyleType:"no_border"},React.createElement(B,{label:"Hide video button in VC",icon:React.createElement(l.Icon,{source:r.getAssetIDByName("video")}),onValueChange:function(o){return e.storage.hideVCVideoButton=o},value:e.storage.hideVCVideoButton})))}let c=[];var P={onLoad:function(){e.storage.upHideVoiceButton??=!0,e.storage.upHideVideoButton??=!0,e.storage.dmHideCallButton??=!1,e.storage.dmHideVideoButton??=!1,e.storage.hideVCVideoButton??=!1;let o=r.getAssetIDByName("ic_video"),f=r.getAssetIDByName("ic_audio");const H=r.getAssetIDByName("video"),h=r.getAssetIDByName("nav_header_connect"),y=r.getAssetIDByName("VideoIcon"),C=r.getAssetIDByName("PhoneCallIcon");o===void 0&&(o=y),f===void 0&&(f=C);const g=n.findByName("UserProfileActions",!1);let m=n.findByName("SimplifiedUserProfileContactButtons",!1);m===void 0&&(m=n.findByName("UserProfileContactButtons",!1));const _=n.find(function(s){return s?.type?.name=="PrivateChannelButtons"}),A=n.findByProps("ChannelButtons"),D=n.findByProps("VideoButton");g!==void 0&&c.push(u.after("default",g,function(s,i){if(!e.storage.upHideVideoButton&&!e.storage.upHideVoiceButton)return;let t=i?.props?.children?.props?.children[1]?.props?.children;if(t===void 0&&(t=i?.props?.children[1]?.props?.children),t?.props?.children!==void 0&&(t=t?.props?.children),t!==void 0)for(var a in t){var d=t[a];if(d?.props?.children!==void 0){var V=d?.props?.children;for(var b in V){var I=V[b];(I?.props?.icon===f&&e.storage.upHideVoiceButton||I?.props?.icon===o&&e.storage.upHideVideoButton)&&delete V[b]}}d?.props?.IconComponent!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2]),(d?.props?.icon===f&&e.storage.upHideVoiceButton||d?.props?.icon===o&&e.storage.upHideVideoButton)&&delete t[a]}})),c.push(u.after("default",m,function(s,i){let t=i?.props?.children;t!==void 0&&(e.storage.upHideVoiceButton&&delete t[1],e.storage.upHideVideoButton&&delete t[2])})),c.push(u.after("default",D,function(s,i){if(!e.storage.hideVCVideoButton)return;const t=i?.props?.children?.props?.children?.props?.children;t!==void 0&&delete t[0]})),c.push(u.after("type",_,function(s,i){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;let t=i?.props?.children;if(t!==void 0){if(t[0]?.props?.accessibilityLabel!==void 0){e.storage.dmHideCallButton&&delete t[0],e.storage.dmHideVideoButton&&delete t[1];return}if(t[0]?.props?.source===void 0&&(t=t[0]?.props?.children),t!==void 0)for(var a in t){var d=t[a];(d?.props?.source===h&&e.storage.dmHideCallButton||d?.props?.source===H&&e.storage.dmHideVideoButton||d?.props?.source===C&&e.storage.dmHideCallButton||d?.props?.source===y&&e.storage.dmHideVideoButton)&&delete t[a]}}})),c.push(u.after("ChannelButtons",A,function(s,i){if(!e.storage.dmHideCallButton&&!e.storage.dmHideVideoButton)return;const t=i?.props?.children;if(t!==void 0)for(var a in t){var d=t[a]?.props?.children[0];d!==void 0&&(d?.props?.source===h&&e.storage.dmHideCallButton||d?.props?.source===H&&e.storage.dmHideVideoButton)&&delete t[a]}}))},onUnload:function(){for(const o of c)o()},settings:N};return p.default=P,Object.defineProperty(p,"__esModule",{value:!0}),p})({},vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.plugin,vendetta.storage);
